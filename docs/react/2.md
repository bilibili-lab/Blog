# 对 React 的理解

`React` 是一个网页 `UI` 框架, 概念也非常简单，如果用一个非常的简洁的公式来表达就是：

```js
View = fn(props)
```

这个公式表达了给定相同的输入状态， 函数总是会生成一致的组件。只有做到输入与输出恒定，那么它才是可测的。从实际编码上来讲，`fn` 可能是一个类组件，也可能是纯函数组件，也可能在函数中产生影响 `UI` 生成的副作用，比如直接操作 `DOM` 或者绑定事件等。

那为什么会把基本单位定位于组件呢？如果对设计模式有印象的话，你是否还记得“组合优于继承”的铁律？即在构建 `UI` 视图时，组合组件始终是最优的解决方案。

## 核心概念

React 的核心思路有三点，分别是：

- 声明式。
- 组件化。
- 通用性（官方称之为：一次学习，随处编写）。

### 声明式

声明式编程的优势在于直观，可以做到一目了然，也便于组合。

如果是命令式编程，那么会是这样：

```html
// HTML
<div class="block"></div>
// JS
const block = $('.block');
block.css('color', 'red');
```

如果是 React，则会这样写：

```js
const Block = (props) => <div style={{ color: 'red' }}></div>
```

相较于上面的写法，`Block` 不仅结构上更容易阅读，而且更容易与其他组件代码进行组合。

### 组件化

组件化可以降低系统间功能的耦合性，提高功能内部的聚合性。对前端工程化及代码复用有极大的好处。`React` 组件化最大的区别在于没有使用模板进行编写，而是采用了声明式的 `JSX`。

### 通用性

这就要说到 `React` 的虚拟 `DOM`。`React` 将 `DOM` 抽象为虚拟 `DOM`，开发者并不会直接操作 `DOM`。正因为有这样一层封装，使得 `React` 不再局限于 `Web` 开发，而能走向更宽广的平台，出现更繁荣的生态。无论是 `Native`、`VR` 还是 `Shell` 命令，只要兼容虚拟 `DOM` 层，那么都可以直接运行 `React`。

## 优缺点

其实核心设计思路就是 `React` 的优点：声明式、组件化与通用性。

当然 `React` 也有缺点， 由于 `React` 并不是一个一揽子框架，比如路由一类的功能，`React` 团队更希望交给社区来解决。所以导致在技术选型与学习使用上有比较高的成本。但也正因为社区蓬勃发展，非官方的一揽子解决方案还是有的，比如 `DvaJS`、`React-coat`等填补了生态位的缺失。所以 `React` 也是一个使用者上限与下限差距极大的框架。
